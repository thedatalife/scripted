<!DOCTYPE html>
<html>
  <head>
    <title>Scripted - Javascript Timeline Library</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="css/bootstrap.css" rel="stylesheet" media="screen">

        <!--link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/normalize/2.1.0/normalize.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script-->
        <style type="text/css" rel="stylesheet">
          #main {
            position: absolute;
            z-index: 20;
            width: 100%;
            height: 100%;
          }
          
          #scriptedA .col-lg-4 {
            -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
            filter: alpha(opacity=0);
            opacity: 0;
            height: 180px;
          
            -webkit-transition: all 1s ease-in-out;
            -moz-transition: all 1s ease-in-out;
            -o-transition: all 1s ease-in-out;
            -ms-transition: all 1s ease-in-out;
            transition: all 1s ease-in-out;
          }
          
          #scriptedA .col-lg-4.show {
            -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";
            filter: alpha(opacity=100);
            opacity: 1;
          }
          
          #scriptedA .col-lg-4.highlight {
            background-color: #FFFF99;
          }
          
          #hero-row {
            padding: 24px 0;
          
            -webkit-transition: all 1s ease-in-out;
            -moz-transition: all 1s ease-in-out;
            -o-transition: all 1s ease-in-out;
            -ms-transition: all 1s ease-in-out;
            transition: all 1s ease-in-out;
          }
          
          #hero-row.highlight {
            background-color: #FFFF99;
          }
          
          #scriptedA4 {
            -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
            filter: alpha(opacity=0);
            opacity: 0;
            position: relative;
            left: -100%;
          
            -webkit-transition: all 2s ease-in-out;
            -moz-transition: all 2s ease-in-out;
            -o-transition: all 2s ease-in-out;
            -ms-transition: all 2s ease-in-out;
            transition: all 2s ease-in-out;
          }
          
          #scriptedA4.show {
            -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";
            filter: alpha(opacity=100);
            opacity: 1;
            left: 0;
          }
          
          #content-row {
            -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
            filter: alpha(opacity=0);
            opacity: 0;
          
            -webkit-transition: all 1s ease-in-out;
            -moz-transition: all 1s ease-in-out;
            -o-transition: all 1s ease-in-out;
            -ms-transition: all 1s ease-in-out;
            transition: all 1s ease-in-out;
          }
          
          #content-row.show {
            -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";
            filter: alpha(opacity=100);
            opacity: 1;
          }
          
          #tile-background {
            position: absolute;
            overflow: hidden;
            z-index: 10;
            width: 100%;
            height: 100%;
          }
          
          #tile-background .square {
            background-color: white;
          
            -webkit-transition: all 5s ease-in-out;
            -moz-transition: all 5s ease-in-out;
            -o-transition: all 5s ease-in-out;
            -ms-transition: all 5s ease-in-out;
            transition: all 5s ease-in-out;
          }
          
          #tile-background .square.show {
            background-color: #EFEFEF;
          }
          
          #transforming-squares {
            position: relative;
            z-index: 150;
            width: 100%;
          }
          
          #transforming-squares div {
            width: 100px;
            height: 100px;
            position: absolute;
            background-color: #DEDEDE;
            top: 40px;
          
            -webkit-transform-style: preserve-3d;
            -moz-transform-style: preserve-3d;
            -ms-transform-style: preserve-3d;
            transform-style: preserve-3d;
          
            -webkit-transition: all 1s ease-in-out;
            -moz-transition: all 1s ease-in-out;
            -o-transition: all 1s ease-in-out;
            -ms-transition: all 1s ease-in-out;
            transition: all 1s ease-in-out;
          }
          
          #transforming-squares .transform1 {
            -webkit-transform: rotateY(180deg);
            -moz-transform: rotateY(180deg);
            -o-transform: rotateY(180deg);
            -ms-transform: rotateY(180deg);
            transform: rotateY(180deg);
          
            -webkit-box-shadow: -5px 5px 5px #aaa;
            box-shadow: -5px 5px 5px #aaa;
            background-color: #CDCDCD;
          }
          
          #transforming-squares .transform2 {
            -webkit-transform: rotateX(180deg);
            -moz-transform: rotateX(180deg);
            -o-transform: rotateX(180deg);
            -ms-transform: rotateX(180deg);
            transform: rotateY(180deg);
            
            width: 140px;
            height: 140px;
            
            background-color: #BCBCBC;
          }
          
          #transforming-squares #squareA {
            left: 6%;
          }
          
          #transforming-squares #squareB {
            right: 6%;
          }
          
          @media (max-width: 991px) {
            #scriptedA .col-lg-4 {
             height: auto;
             padding: 12px; 
            }
            
            #transforming-squares {
              height: 140px;
            } 
            #transforming-squares div {
              top: 10px;
            }
          }
        </style>
        <script src="js/lib/respond.min.js"></script>
    </head>
    
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <div id="main">
          <div class="container">
          <div class="row" id="scriptedA">
            <div id="scriptedA1" class="col-lg-4">
              <h1>Scripted</h1>
              <p>Javascript library for timed actions.</p>
            </div>
            <div id="scriptedA2" class="col-lg-4">
              <h2>Works with jQuery or Zepto.</h2>
              <p>Designed to be used for sequenced events where legacy browser support is required.</p>
            </div>
            <div id="scriptedA3" class="col-lg-4">
              <h2>Lightweight and flexible.</h2>
              <p>Easy syntax, plenty of options. Multiple Scripted timelines can be used at once.</p>
            </div>
          </div>
            <div class="row" id="transforming-squares">
              <div id="squareA"></div>
              <div id="squareB"></div>
            </div>
          <div id="hero-row" class="row">
            <div id="scriptedA4" class="col-lg-6 col-lg-offset-3">
              <p class="lead"><em>Scripted is a little library that gives you big control over sequenced events. Simply create a new timeline, specify the length and framerate, then start writing your script!</em></p>
              <div class="container"><a class="btn btn-primary btn-lg btn-block" href="https://github.com/thedatalife/scripted/blob/master/js/Scripted.js">Try it now.</a></div>
            </div>
          </div>
          <div id="content-row" class="row">
            <div class="col-lg-4">
              <h3>Example 1: Using the API</h3>
              <p>It's easy to create a new instance of Scripted set up a few cuepoint actions. Set the scope with the using() method and then chain .at() actions to create your script.</p>
              <p>
                <pre>
SC = new Scripted(60, 16, true); // 60fps, 10 seconds, repeating
SC.using("#squareA")
  .at("4 addClass transform1")
  .at("8 addClass transform2")
  .at("12 removeClass transform1")
  .at("12 removeClass transform2");
SC.using("#squareB")
  .at("4.5 addClass transform1")
  .at("8.5 addClass transform2")
  .at("12.5 removeClass transform1")
  .at("12.5 removeClass transform2");
SC.startTimer();
                </pre>
              </p>
            </div>
            <div class="col-lg-4">
              <h3>Example 2: Custom actions</h3>
              <p>It is possible to pass an object as the scope and call a function as the action. This allows you to script more complex functionality, the sky is the limit.</p>
              <p><pre>
BGTiles.init();
SB = new Scripted(60, 3, true); // 60fps, 3 seconds, repeating
SB.using(BGTiles).every("1 callFunction randomizeTiles").startTimer();
              </pre></p>
              <p>You can see this example in action with the dynamic background on the page.</p>
            </div>
            <div class="col-lg-4">
              <h3>Example 3: Loading a JSON script</h3>
              <p>It's possible to prepare JSON scripts and pass them into the Scripted instance.</p>
              <p><pre>
SA = new Scripted(60, 5); // 60fps, 5 seconds long, don't repeat
scriptA = {
  "actions": [
   {  
    "using": "#scriptedA1",
    "at": [
      "1 addClass show",
      "3 addClass highlight",
    ]
   },
   {  
    "using": "#scriptedA2",
    "at": [
      "2 addClass show"
    ]
   }
  ]
};
SA.loadScript(scriptA);
SA.startTimer();
              </pre></p>
            </div>
          </div>
          <footer>
            <p>Copyright 2013 Miles Ryan</p>
          </footer>
        </div>
        </div>
        <div id="tile-background" class="background">
          
        </div>
        
        <script src="js/lib/jQuery.js"></script>
        <script src="js/lib/bootstrap.js"></script>
        <script src="js/Scripted.js"></script>
        <script type="text/javascript">
          var SA, SB, SC;
          $(document).ready(function(){
            /*
            
              Example 1: using the simple API
             
            */
           
            SC = new Scripted(60, 16, true); // 60fps, 10 seconds, repeating
            SC.using("#squareA")
              .at("4 addClass transform1")
              .at("8 addClass transform2")
              .at("12 removeClass transform1")
              .at("12 removeClass transform2");
            SC.using("#squareB")
              .at("4.5 addClass transform1")
              .at("8.5 addClass transform2")
              .at("12.5 removeClass transform1")
              .at("12.5 removeClass transform2");
            SC.startTimer();
            
            /*
            
              Example 2: using the .every() method with a function
             
            */
           
            BGTiles.init();
            SB = new Scripted(60, 3, true); // 60fps, 3 seconds, repeating
            SB.using(BGTiles).every("1 callFunction randomizeTiles").startTimer();
            
            
            /* 
              
              Example 3: Using the loadScript method
              
              This example shows how to prepare a JSON script.
              The script could easily be loaded in from an API.
              
            */
            SA = new Scripted(60, 5); // 60fps, 5 seconds long, don't repeat
            var scriptA = {
              "actions": [
               {  
                "using": "#scriptedA1",
                "at": [
                  "1 addClass show",
                  "3 addClass highlight",
                ]
               },
               {  
                "using": "#scriptedA2",
                "at": [
                  "2 addClass show"
                ]
               },
               {  
                "using": "#scriptedA3",
                "at": [
                  "3 addClass show"
                ]
               },
               {  
                "using": "#scriptedA4",
                "at": [
                  "3 addClass show"
                ]
               },
               {  
                "using": "#content-row",
                "at": [
                  "3 addClass show"
                ]
               }
              ]
            };
            SA.loadScript(scriptA);
            SA.startTimer();
            
          });
          
          var BGTiles = {
            init: function() {
              this.$bg = $("#tile-background");
              
              var size = 80,
                width = $(window).width(),
                height = Math.max(
                    $(document).height(),
                    $(window).height(),
                    document.documentElement.clientHeight
                ),
                columns = Math.floor(width / size),
                rows = Math.floor(height / size),
                x = 0,
                y = 0;
              
              this.$bg.css("height", height + "px");
              
              var square = function(width, height, x, y) {
                var s = $("<div class='square'></div>");
                s.css({
                  "width": width,
                  "height": height,
                  "top": y,
                  "left": x,
                  "position": "absolute"
                });
                return s;
              }
                
              for(var r = 0; r <= rows; r++) {
                for(var c = 0; c <= columns; c++) {
                  this.$bg.append(new square(size, size, c * size, r * size));
                }
              }
            },
            randomizeTiles: function() {
              var tileCount = $(".square").length,
                randomTileCount = Math.floor(Math.random() * 10),
                randomIndex = 0,
                $square = null;
                
              for(var i = 0; i < randomTileCount; i++) {
                randomIndex = Math.floor(Math.random() * tileCount);
                $square = $(".square").eq(randomIndex);
                if($square.hasClass("show")){
                  $square.removeClass("show");
                } else {
                  $square.addClass("show");
                }
              }
            }
          }
          
        </script>
    </body>
</html>
